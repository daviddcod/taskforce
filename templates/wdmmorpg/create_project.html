{% extends 'base.html' %}

{% block content %}
<!-- Form starts here -->
<form method="post" class="my-form">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <!-- Render other fields as paragraphs -->
    {% for field in form %}
        <!-- Check if the field is not 'missions' or 'create_taskplayer' -->
        {% if field.name != 'missions' and field.name != 'create_taskplayer' %}
            <div class="form-group">
                {{ field.label_tag }}
                {{ field }}
                {{ field.errors }}
            </div>
        {% endif %}
    {% endfor %}

    <!-- Render missions as checkboxes with titles -->
    <fieldset class="form-group">
        <legend>Missions (Select multiple)</legend>
        <div class="missions-container">
            {% for checkbox in form.missions %}
                <div class="mission-item">
                    <label class="mission-label">
                        {{ checkbox.tag }} {{ checkbox.choice_label }}
                    </label>
                </div>
            {% endfor %}
        </div>
    </fieldset>

    <!-- Add create_taskplayer checkbox -->
    <div class="form-group">
        {{ form.create_taskplayer.label_tag }}
        {{ form.create_taskplayer }}
        {{ form.create_taskplayer.errors }}
    </div>

    <button type="submit" class="btn btn-primary">Create Project</button>
</form>
<!-- Form ends here -->
{% endblock %}
